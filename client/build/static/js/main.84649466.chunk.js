(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_USER_ID",function(){return O}),a.d(n,"setUserId",function(){return C});var r={};a.r(r),a.d(r,"SUCCESS_SEND_TO_ANALYTIC",function(){return A}),a.d(r,"SUCCESS_GET_DATA_FROM_ANALYTIC",function(){return S}),a.d(r,"REQUEST_GET_DATA_FROM_ANALYTIC",function(){return I}),a.d(r,"sendToAnalytic",function(){return T}),a.d(r,"getDataFromAnalytic",function(){return D});var c=a(0),s=a.n(c),i=a(26),o=a.n(i),u=a(13),l=a(14),p=a(21),d=a(19),f=a(22),m=a(20),h=a(31),v=a(15),g=a(49),y=a(8),b=a(2),E=a.n(b),_=a(5),O="SET_USER_ID";function C(e){return function(){var t=Object(_.a)(E.a.mark(function t(a){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:O,userId:e})}catch(n){console.log(n)}case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}var w={userId:""},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.userId;switch(a){case O:return Object(y.a)({},e,{userId:n});default:return e}},j=a(50),N=a.n(j),k=new(function(){function e(t){Object(u.a)(this,e),this.instance=N.a.create(Object(y.a)({},t))}return Object(l.a)(e,[{key:"get",value:function(){var e=Object(_.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.instance.get(t,{params:Object(y.a)({},a)});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(_.a)(E.a.mark(function e(t,a){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.instance.post(t,a);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()}]),e}())({baseURL:"http://localhost:5000/api/analytics"}),A="SUCCESS_SEND_TO_ANALYTIC",S="SUCCESS_GET_DATA_FROM_ANALYTIC",I="REQUEST_GET_DATA_FROM_ANALYTIC";function T(e){return function(){var t=Object(_.a)(E.a.mark(function t(a){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.post("/",e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}()}function D(e){return function(){var t=Object(_.a)(E.a.mark(function t(a){var n;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:I}),t.next=4,k.get("/",e);case 4:n=t.sent,a({type:S,analytics:n.data.analytics,totalCount:n.data.totalCount}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}var L={analytics:[],isLoading:!1,totalCount:0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.analytics,r=t.totalCount;switch(a){case I:return Object(y.a)({},e,{isLoading:!0});case S:return Object(y.a)({},e,{analytics:n,totalCount:r,isLoading:!1});default:return e}},U=Object(v.c)({users:x,analytics:M}),R=[g.a],P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.d,Y=Object(v.e)(U,P(v.a.apply(void 0,R))),F=a(12),B=a(51),G=a(34),H=Object(B.a)(Object(F.a)(),G.stringify,G.parse),W=a(52),J=a.n(W);function Q(e,t){try{localStorage.setItem(e,t)}catch(a){console.error(a)}}function X(e){try{return localStorage.getItem(e)}catch(t){console.log(t)}}a(97);var z=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=Object(_.a)(E.a.mark(function e(t){var n,r,c,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userId,c=n.sendToAnalytic,s=t.target.id,e.next=4,c({userId:r,area:s});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.renderMenu=function(){return s.a.createElement("div",{id:"Menu",className:"menu"},s.a.createElement("div",{className:"menu-item"}," First Menu Block"),s.a.createElement("div",{className:"menu-item"}," Second Menu Block"),s.a.createElement("div",{className:"menu-item"}," Third Menu Block"))},a.renderNews=function(){return s.a.createElement("div",{id:"News",className:"news"},"News Block")},a.renderArticles=function(){return s.a.createElement("div",{id:"Article",className:"articles"},"Article Block")},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=X("userId"))){e.next=6;break}return e.next=4,this.props.setUserId(t);case 4:e.next=8;break;case 6:Q("userId",J.a.v4());case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{onClick:this.handleClick,className:"homePageWrapper"},this.renderMenu(),s.a.createElement("div",{className:"main-block"},this.renderNews(),this.renderArticles()))}}]),t}(c.PureComponent),V=Object(m.b)(function(e){return{userId:e.users.userId}},Object(y.a)({},r,n))(z),q=a(53),K=a.n(q),Z=a(30),$=a.n(Z),ee=a(54),te=a.n(ee),ae=a(120),ne=a(118),re=a(119),ce=(a(102),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={page:0,sort_field:"userId",sort_direction:"asc"},a.handleChangePage=function(){var e=Object(_.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({page:t.selected});case 2:return e.next=4,a.props.getDataFromAnalytic({page:a.state.page,sort_field:a.state.sort_field,sort_direction:a.state.sort_direction});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSort=function(e){return function(){var t=Object(_.a)(E.a.mark(function t(n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.setState({sort_field:e,sort_direction:"asc"===a.state.sort_direction?"desc":"asc"});case 2:return t.next=4,a.props.getDataFromAnalytic({page:a.state.page,sort_field:e,sort_direction:a.state.sort_direction});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},a.renderHeader=function(){var e=a.state,t=e.sort_field,n=e.sort_direction;return s.a.createElement("div",{className:"headerWrapper"},s.a.createElement("div",{className:$()("header"),onClick:a.handleSort("userId")},"User ID ","userId"===t?s.a.createElement(ne.a,{style:{transform:"rotate(".concat("asc"===n?0:180,"deg)"),marginLeft:"5px",width:"15px",height:"15px"}}):s.a.createElement(re.a,{style:{marginLeft:"5px",width:"15px",height:"15px"}})),s.a.createElement("div",{className:$()("header"),onClick:a.handleSort("area")},"Area","area"===t?s.a.createElement(ne.a,{style:{transform:"rotate(".concat("asc"===n?0:180,"deg)"),marginLeft:"5px",width:"15px",height:"15px"}}):s.a.createElement(re.a,{style:{marginLeft:"5px",width:"15px",height:"15px"}})),s.a.createElement("div",{className:$()("header","notActive")},"TimeStamp"))},a.renderContent=function(){var e=a.props,t=e.analytics,n=e.totalCount,r=a.state.page;return s.a.createElement("div",{className:"analyticsData"},a.renderHeader(),t.map(function(e){return s.a.createElement("div",{className:"row",key:e._id},s.a.createElement("div",{className:"item"},e.userId),s.a.createElement("div",{className:"item"},e.area),s.a.createElement("div",{className:"item"},K()(e.timestamp).format("HH:mm DD/MM/YYYY")))}),s.a.createElement(te.a,{pageCount:Math.ceil(n/20),previousLabel:"Previous",pageRangeDisplayed:3,nextLabel:"Next",onPageChange:a.handleChangePage,initialPage:r,pageClassName:"page",previousClassName:"button",nextClassName:"button",activeClassName:"active",breakClassName:"page",containerClassName:"container",disableInitialCallback:!0}))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getDataFromAnalytic({page:this.state.page,sort_field:this.state.sort_field,sort_direction:this.state.sort_direction});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.isLoading;return s.a.createElement("div",{className:"analyticPageWrapper"},e?s.a.createElement(ae.a,{size:40}):this.renderContent())}}]),t}(c.PureComponent)),se=Object(m.b)(function(e){return{isLoading:e.analytics.isLoading,analytics:e.analytics.analytics,totalCount:e.analytics.totalCount}},Object(y.a)({},r))(ce);a(103);function ie(e,t){console.log(e),t({pathname:"/home"})}var oe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(m.a,{store:Y},s.a.createElement(h.b,{history:H},s.a.createElement(h.a,{path:"/home",component:V}),s.a.createElement(h.a,{path:"/analytics",component:se}),s.a.createElement(h.a,{path:"*",onEnter:ie})))}}]),t}(c.Component);o.a.render(s.a.createElement(oe,null),document.getElementById("root"))},57:function(e,t,a){e.exports=a(105)},97:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.84649466.chunk.js.map